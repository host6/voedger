Resolves issue 'create state options as a ready-to-use struct instead of build from options'

Resolves #4087 create state options as a ready-to-use struct instead of build from options
