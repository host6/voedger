[AIR-2426] VIT+httpu: improve optinal funcs engine

https://untill.atlassian.net/browse/AIR-2426
